# üè¶Bank Widget
## –û–ø–∏—Å–∞–Ω–∏–µ:

–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π, 
–≤–∫–ª—é—á–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –ø–æ —Å—Ç–∞—Ç—É—Å—É –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É –ø–æ –¥–∞—Ç–µ. 
–ú–æ–¥—É–ª—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ —Å–∏—Å—Ç–µ–º—ã –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–±–∞–Ω–∫–∏–Ω–≥–∞.

## üì±–£—Å—Ç–∞–Ω–æ–≤–∫–∞:

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```
git clone https://github.com/AnastasyaGeyer1788/bank_widget

```
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```
pip install -r requirements.txt
```
## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –≤–∞—à–µ–º –≤–µ–±-–±—Ä–∞—É–∑–µ—Ä–µ.
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –∏ –Ω–∞—á–Ω–∏—Ç–µ –¥–æ–±–∞–≤–ª—è—Ç—å –∑–∞–¥–∞—á–∏.
3. –ù–∞–∑–Ω–∞—á–∞–π—Ç–µ —Å—Ä–æ–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –¥–ª—è –∑–∞–¥–∞—á, —á—Ç–æ–±—ã —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –ø—Ä–æ–µ–∫—Ç–∞–º–∏.

## üåü–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:

–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏](https://github.com/AnastasyaGeyer1788/bank_widget/blob/main/README.md).

## üìå –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

1. Python 3.8+
2. –í–∫–ª—é—á–µ–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
* pytest –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
* mypy –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–æ–≤

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
pytest tests/
```

### –û–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤
#### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π (filter_by_state)
–§—É–Ω–∫—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ —Å—Ç–∞—Ç—É—Å—É (EXECUTED/PENDING/CANCELED)

–¢–µ—Å—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç:
1. [ ] –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
2. [ ] –û–±—Ä–∞–±–æ—Ç–∫—É –ø—É—Å—Ç–æ–≥–æ —Å–ø–∏—Å–∫–∞
3. [ ] –û–ø–µ—Ä–∞—Ü–∏–∏ –±–µ–∑ –ø–æ–ª—è "state"

#### –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –¥–∞—Ç–µ
–§—É–Ω–∫—Ü–∏—è —Å–æ—Ä—Ç–∏—Ä—É–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ –¥–∞—Ç–µ (–Ω–æ–≤—ã–µ, —Å—Ç–∞—Ä—ã–µ –∏–ª–∏ –Ω–∞–æ–±–æ—Ä–æ—Ç).

–¢–µ—Å—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç:
1. [ ] –ü–æ—Ä—è–¥–æ–∫ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
2. [ ] –û–±—Ä–∞–±–æ—Ç–∫—É –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –¥–∞—Ç
3. [ ] –ü—É—Å—Ç—ã–µ —Å–ø–∏—Å–∫–∏

#### –ú–∞—Å–∫–∏—Ä–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
–§–æ—Ä–º–∞—Ç—ã:
–ö–∞—Ä—Ç—ã: 1234 56** **** 3456
–°—á–µ—Ç–∞: **4305
–¢–µ—Å—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç:
1. [ ] –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –º–∞—Å–∫–∏—Ä–æ–≤–∫–∏
2. [ ] –ì—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏
3. [ ] –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

#### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π (filter_by_currency)
–§–∏–ª—å—Ç—Ä—É–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ø–æ –∫–æ–¥—É –≤–∞–ª—é—Ç—ã
```
from generators import filter_by_currency

transactions = [
    {
        "id": 939719570,
        "operationAmount": {
            "currency": {"code": "USD"}
        }
    },
    {
        "id": 142264268,
        "operationAmount": {
            "currency": {"code": "EUR"}
        }
    }
]

usd_transactions = filter_by_currency(transactions, "USD")
print(list(usd_transactions))
# –í—ã–≤–æ–¥: [{'id': 939719570, 'operationAmount': {'currency': {'code': 'USD'}}}]
```

#### –†–∞–±–æ—Ç–∞ —Å –æ–ø–∏—Å–∞–Ω–∏—è–º–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π (transaction_descriptions)
–ò–∑–≤–ª–µ–∫–∞–µ—Ç –æ–ø–∏—Å–∞–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
```
from generators import transaction_descriptions

transactions = [
    {"description": "–ü–µ—Ä–µ–≤–æ–¥ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏"},
    {"description": "–ü–µ—Ä–µ–≤–æ–¥ —Å–æ —Å—á–µ—Ç–∞ –Ω–∞ —Å—á–µ—Ç"}
]

for desc in transaction_descriptions(transactions):
    print(desc)
# –í—ã–≤–æ–¥:
# –ü–µ—Ä–µ–≤–æ–¥ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
# –ü–µ—Ä–µ–≤–æ–¥ —Å–æ —Å—á–µ—Ç–∞ –Ω–∞ —Å—á–µ—Ç
```

#### –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –Ω–æ–º–µ—Ä–æ–≤ –∫–∞—Ä—Ç (card_number_generator)
–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –Ω–æ–º–µ—Ä–∞ –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö –∫–∞—Ä—Ç –≤ –∑–∞–¥–∞–Ω–Ω–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ
```
from generators import card_number_generator

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è 5 –Ω–æ–º–µ—Ä–æ–≤ –∫–∞—Ä—Ç
for card_number in card_number_generator(1, 5):
    print(card_number)
# –í—ã–≤–æ–¥:
# 0000 0000 0000 0001
# 0000 0000 0000 0002
# ...
# 0000 0000 0000 0005

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–æ–≥–æ –Ω–æ–º–µ—Ä–∞
card = next(card_number_generator(1234567812345678, 1234567812345678))
print(card)  # 1234 5678 1234 5678
```

## –ù–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª: –î–µ–∫–æ—Ä–∞—Ç–æ—Ä –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è `@log`

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä `@log` –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤—ã–∑–æ–≤–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π –≤ —Ñ–∞–π–ª –∏–ª–∏ –∫–æ–Ω—Å–æ–ª—å.

### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º —Ç–∏–ø–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
- –ó–∞–ø–∏—Å—å –≤—Ö–æ–¥–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (args –∏ kwargs)
- –ì–∏–±–∫–∏–π –≤—ã–≤–æ–¥: –≤ —Ñ–∞–π–ª –∏–ª–∏ –∫–æ–Ω—Å–æ–ª—å
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–∫ –≤—ã–∑–æ–≤–æ–≤

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```python
from src.decorators import log


# –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ–∞–π–ª
@log(filename="operations.log")
def transfer(amount, from_acc, to_acc):
    """–ü–µ—Ä–µ–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤ –º–µ–∂–¥—É —Å—á–µ—Ç–∞–º–∏"""
    # —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–µ—Ä–µ–≤–æ–¥–∞
    return True


# –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–Ω—Å–æ–ª—å
@log()
def check_balance(account, balance=None):
    """–ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞"""
    # —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏
    return balance
```

### –§–æ—Ä–º–∞—Ç –ª–æ–≥–æ–≤

–£—Å–ø–µ—à–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ:
```
[timestamp] function_name ok
Args: (arg1, arg2), Kwargs: {'param': value}
```

–û—à–∏–±–∫–∞:
```
[timestamp] function_name error: ErrorType
Args: (arg1, arg2), Kwargs: {'param': value}
```

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Python 3.7+
- –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `pytest`, `pytest-cov`

### –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞
```log
2023-05-15 14:30:45 transfer ok
Args: (100, 'acc1', 'acc2'), Kwargs: {}

2023-05-15 14:31:22 check_balance error: ValueError
Args: ('invalid_acc',), Kwargs: {}
```

### –ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞
```bash
pytest --cov=src --cov-report=term
```
###  HTML-–æ—Ç—á–µ—Ç
```bash
pytest --cov=src --cov-report=html:coverage_html_report --cov-report=term-missing:skip-covered tests/
```

## üìú–õ–∏—Ü–µ–Ω–∑–∏—è:

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ª–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω –ø–æ MIT ¬© 2025 AnastasyaGeyer1788.








